{"ast":null,"code":"// CPF and CNPJ Mask\nexport function cpfCnpjMask(value) {\n  value = value.replace(/\\D/g, '');\n\n  if (value.length < 14) {\n    value = value.replace(/(\\d{3})(\\d)/, '$1.$2');\n    value = value.replace(/(\\d{3})(\\d)/, '$1.$2');\n    value = value.replace(/(\\d{3})(\\d{1,2})$/, '$1-$2');\n  } else {\n    value = value.replace(/^(\\d{2})(\\d)/, '$1.$2');\n    value = value.replace(/^(\\d{2})\\.(\\d{3})(\\d)/, '$1.$2.$3');\n    value = value.replace(/\\.(\\d{3})(\\d)/, '.$1/$2');\n    value = value.replace(/(\\d{4})(\\d)/, '$1-$2');\n  }\n\n  return value;\n}\n; // CPF and CNPJ Unmask\n\nexport function cpfCnpjUnmask(value) {\n  return value.replace(/\\D/g, '');\n}\n; // CPF Validation\n\nexport function cpfValidator(value) {\n  let numbers, digits, sum, i, result, equal_digits;\n  equal_digits = 1;\n  if (value.length < 11) return false;\n\n  for (i = 0; i < value.length - 1; i++) if (value.charAt(i) != value.charAt(i + 1)) {\n    equal_digits = 0;\n    break;\n  }\n\n  if (!equal_digits) {\n    numbers = value.substring(0, 9);\n    digits = value.substring(9);\n    sum = 0;\n\n    for (i = 10; i > 1; i--) sum += numbers.charAt(10 - i) * i;\n\n    result = sum % 11 < 2 ? 0 : 11 - sum % 11;\n    if (result != digits.charAt(0)) return false;\n    numbers = value.substring(0, 10);\n    sum = 0;\n\n    for (i = 11; i > 1; i--) sum += numbers.charAt(11 - i) * i;\n\n    result = sum % 11 < 2 ? 0 : 11 - sum % 11;\n    if (result != digits.charAt(1)) return false;\n    return true;\n  } else return false;\n}\n; // CNPJ Validation\n\nexport function cnpjValidator(value) {\n  let cnpj = value.replace(/[^\\d]+/g, '');\n  if (cnpj.length !== 14) return false;\n  if (/^(\\d)\\1+$/.test(cnpj)) return false;\n\n  let t = cnpj.length - 2,\n      d = cnpj.substring(t),\n      d1 = parseInt(d.charAt(0)),\n      d2 = parseInt(d.charAt(1)),\n      calc = x => {\n    let n = cnpj.substring(0, x),\n        y = x - 7,\n        s = 0,\n        r = 0;\n\n    for (let i = x; i >= 1; i--) {\n      s += n.charAt(x - i) * y--;\n      if (y < 2) y = 9;\n    }\n\n    r = 11 - s % 11;\n    return r > 9 ? 0 : r;\n  };\n\n  return calc(t) === d1 && calc(t + 1) === d2;\n}\n;","map":{"version":3,"sources":["/Users/julioaugusto/Documents/Projects/open-source/js-functions-essentials/lib/cpf-cnpj.js"],"names":["cpfCnpjMask","value","replace","length","cpfCnpjUnmask","cpfValidator","numbers","digits","sum","i","result","equal_digits","charAt","substring","cnpjValidator","cnpj","test","t","d","d1","parseInt","d2","calc","x","n","y","s","r"],"mappings":"AAAA;AACA,OAAO,SAASA,WAAT,CAAqBC,KAArB,EAA4B;AACjCA,EAAAA,KAAK,GAAGA,KAAK,CAACC,OAAN,CAAc,KAAd,EAAqB,EAArB,CAAR;;AAEA,MAAID,KAAK,CAACE,MAAN,GAAe,EAAnB,EAAuB;AACrBF,IAAAA,KAAK,GAAGA,KAAK,CAACC,OAAN,CAAc,aAAd,EAA6B,OAA7B,CAAR;AACAD,IAAAA,KAAK,GAAGA,KAAK,CAACC,OAAN,CAAc,aAAd,EAA6B,OAA7B,CAAR;AACAD,IAAAA,KAAK,GAAGA,KAAK,CAACC,OAAN,CAAc,mBAAd,EAAmC,OAAnC,CAAR;AACD,GAJD,MAIO;AACLD,IAAAA,KAAK,GAAGA,KAAK,CAACC,OAAN,CAAc,cAAd,EAA8B,OAA9B,CAAR;AACAD,IAAAA,KAAK,GAAGA,KAAK,CAACC,OAAN,CAAc,uBAAd,EAAuC,UAAvC,CAAR;AACAD,IAAAA,KAAK,GAAGA,KAAK,CAACC,OAAN,CAAc,eAAd,EAA+B,QAA/B,CAAR;AACAD,IAAAA,KAAK,GAAGA,KAAK,CAACC,OAAN,CAAc,aAAd,EAA6B,OAA7B,CAAR;AACD;;AAED,SAAOD,KAAP;AACD;AAAA,C,CAED;;AACA,OAAO,SAASG,aAAT,CAAuBH,KAAvB,EAA8B;AACnC,SAAOA,KAAK,CAACC,OAAN,CAAc,KAAd,EAAqB,EAArB,CAAP;AACD;AAAA,C,CAED;;AACA,OAAO,SAASG,YAAT,CAAsBJ,KAAtB,EAA6B;AAClC,MAAIK,OAAJ,EAAaC,MAAb,EAAqBC,GAArB,EAA0BC,CAA1B,EAA6BC,MAA7B,EAAqCC,YAArC;AACAA,EAAAA,YAAY,GAAG,CAAf;AAEA,MAAIV,KAAK,CAACE,MAAN,GAAe,EAAnB,EAAuB,OAAO,KAAP;;AAEvB,OAAKM,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGR,KAAK,CAACE,MAAN,GAAe,CAA/B,EAAkCM,CAAC,EAAnC,EACE,IAAIR,KAAK,CAACW,MAAN,CAAaH,CAAb,KAAmBR,KAAK,CAACW,MAAN,CAAaH,CAAC,GAAG,CAAjB,CAAvB,EAA4C;AAC1CE,IAAAA,YAAY,GAAG,CAAf;AACA;AACD;;AAEH,MAAI,CAACA,YAAL,EAAmB;AACjBL,IAAAA,OAAO,GAAGL,KAAK,CAACY,SAAN,CAAgB,CAAhB,EAAmB,CAAnB,CAAV;AACAN,IAAAA,MAAM,GAAGN,KAAK,CAACY,SAAN,CAAgB,CAAhB,CAAT;AACAL,IAAAA,GAAG,GAAG,CAAN;;AAEA,SAAKC,CAAC,GAAG,EAAT,EAAaA,CAAC,GAAG,CAAjB,EAAoBA,CAAC,EAArB,EAAyBD,GAAG,IAAIF,OAAO,CAACM,MAAR,CAAe,KAAKH,CAApB,IAAyBA,CAAhC;;AACzBC,IAAAA,MAAM,GAAGF,GAAG,GAAG,EAAN,GAAW,CAAX,GAAe,CAAf,GAAmB,KAAMA,GAAG,GAAG,EAAxC;AAEA,QAAIE,MAAM,IAAIH,MAAM,CAACK,MAAP,CAAc,CAAd,CAAd,EAAgC,OAAO,KAAP;AAEhCN,IAAAA,OAAO,GAAGL,KAAK,CAACY,SAAN,CAAgB,CAAhB,EAAmB,EAAnB,CAAV;AACAL,IAAAA,GAAG,GAAG,CAAN;;AAEA,SAAKC,CAAC,GAAG,EAAT,EAAaA,CAAC,GAAG,CAAjB,EAAoBA,CAAC,EAArB,EAAyBD,GAAG,IAAIF,OAAO,CAACM,MAAR,CAAe,KAAKH,CAApB,IAAyBA,CAAhC;;AACzBC,IAAAA,MAAM,GAAGF,GAAG,GAAG,EAAN,GAAW,CAAX,GAAe,CAAf,GAAmB,KAAMA,GAAG,GAAG,EAAxC;AAEA,QAAIE,MAAM,IAAIH,MAAM,CAACK,MAAP,CAAc,CAAd,CAAd,EAAgC,OAAO,KAAP;AAChC,WAAO,IAAP;AACD,GAlBD,MAkBO,OAAO,KAAP;AACR;AAAA,C,CAED;;AACA,OAAO,SAASE,aAAT,CAAuBb,KAAvB,EAA8B;AACnC,MAAIc,IAAI,GAAGd,KAAK,CAACC,OAAN,CAAc,SAAd,EAAyB,EAAzB,CAAX;AAEA,MAAIa,IAAI,CAACZ,MAAL,KAAgB,EAApB,EAAwB,OAAO,KAAP;AAExB,MAAI,YAAYa,IAAZ,CAAiBD,IAAjB,CAAJ,EAA4B,OAAO,KAAP;;AAE5B,MAAIE,CAAC,GAAGF,IAAI,CAACZ,MAAL,GAAc,CAAtB;AAAA,MACEe,CAAC,GAAGH,IAAI,CAACF,SAAL,CAAeI,CAAf,CADN;AAAA,MAEEE,EAAE,GAAGC,QAAQ,CAACF,CAAC,CAACN,MAAF,CAAS,CAAT,CAAD,CAFf;AAAA,MAGES,EAAE,GAAGD,QAAQ,CAACF,CAAC,CAACN,MAAF,CAAS,CAAT,CAAD,CAHf;AAAA,MAIEU,IAAI,GAAIC,CAAD,IAAO;AACZ,QAAIC,CAAC,GAAGT,IAAI,CAACF,SAAL,CAAe,CAAf,EAAkBU,CAAlB,CAAR;AAAA,QACEE,CAAC,GAAGF,CAAC,GAAG,CADV;AAAA,QAEEG,CAAC,GAAG,CAFN;AAAA,QAGEC,CAAC,GAAG,CAHN;;AAKA,SAAK,IAAIlB,CAAC,GAAGc,CAAb,EAAgBd,CAAC,IAAI,CAArB,EAAwBA,CAAC,EAAzB,EAA6B;AAC3BiB,MAAAA,CAAC,IAAIF,CAAC,CAACZ,MAAF,CAASW,CAAC,GAAGd,CAAb,IAAkBgB,CAAC,EAAxB;AACA,UAAIA,CAAC,GAAG,CAAR,EAAWA,CAAC,GAAG,CAAJ;AACZ;;AAEDE,IAAAA,CAAC,GAAG,KAAMD,CAAC,GAAG,EAAd;AACA,WAAOC,CAAC,GAAG,CAAJ,GAAQ,CAAR,GAAYA,CAAnB;AACD,GAjBH;;AAkBA,SAAOL,IAAI,CAACL,CAAD,CAAJ,KAAYE,EAAZ,IAAkBG,IAAI,CAACL,CAAC,GAAG,CAAL,CAAJ,KAAgBI,EAAzC;AACD;AAAA","sourcesContent":["// CPF and CNPJ Mask\nexport function cpfCnpjMask(value) {\n  value = value.replace(/\\D/g, '');\n\n  if (value.length < 14) {\n    value = value.replace(/(\\d{3})(\\d)/, '$1.$2');\n    value = value.replace(/(\\d{3})(\\d)/, '$1.$2');\n    value = value.replace(/(\\d{3})(\\d{1,2})$/, '$1-$2');\n  } else {\n    value = value.replace(/^(\\d{2})(\\d)/, '$1.$2');\n    value = value.replace(/^(\\d{2})\\.(\\d{3})(\\d)/, '$1.$2.$3');\n    value = value.replace(/\\.(\\d{3})(\\d)/, '.$1/$2');\n    value = value.replace(/(\\d{4})(\\d)/, '$1-$2');\n  }\n\n  return value;\n};\n\n// CPF and CNPJ Unmask\nexport function cpfCnpjUnmask(value) {\n  return value.replace(/\\D/g, '');\n};\n\n// CPF Validation\nexport function cpfValidator(value) {\n  let numbers, digits, sum, i, result, equal_digits;\n  equal_digits = 1;\n\n  if (value.length < 11) return false;\n\n  for (i = 0; i < value.length - 1; i++)\n    if (value.charAt(i) != value.charAt(i + 1)) {\n      equal_digits = 0;\n      break;\n    }\n\n  if (!equal_digits) {\n    numbers = value.substring(0, 9);\n    digits = value.substring(9);\n    sum = 0;\n\n    for (i = 10; i > 1; i--) sum += numbers.charAt(10 - i) * i;\n    result = sum % 11 < 2 ? 0 : 11 - (sum % 11);\n\n    if (result != digits.charAt(0)) return false;\n\n    numbers = value.substring(0, 10);\n    sum = 0;\n\n    for (i = 11; i > 1; i--) sum += numbers.charAt(11 - i) * i;\n    result = sum % 11 < 2 ? 0 : 11 - (sum % 11);\n\n    if (result != digits.charAt(1)) return false;\n    return true;\n  } else return false;\n};\n\n// CNPJ Validation\nexport function cnpjValidator(value) {\n  let cnpj = value.replace(/[^\\d]+/g, '');\n\n  if (cnpj.length !== 14) return false;\n\n  if (/^(\\d)\\1+$/.test(cnpj)) return false;\n\n  let t = cnpj.length - 2,\n    d = cnpj.substring(t),\n    d1 = parseInt(d.charAt(0)),\n    d2 = parseInt(d.charAt(1)),\n    calc = (x) => {\n      let n = cnpj.substring(0, x),\n        y = x - 7,\n        s = 0,\n        r = 0;\n\n      for (let i = x; i >= 1; i--) {\n        s += n.charAt(x - i) * y--;\n        if (y < 2) y = 9;\n      }\n\n      r = 11 - (s % 11);\n      return r > 9 ? 0 : r;\n    };\n  return calc(t) === d1 && calc(t + 1) === d2;\n};"]},"metadata":{},"sourceType":"module"}